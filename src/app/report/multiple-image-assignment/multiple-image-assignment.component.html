<div *transloco="let t" class="row gx-0 align-items-center">
  <div class="col-12">
    <div class="d-flex align-items-center">
      <mat-icon
        class="m-2"
        svgIcon="png"
        aria-label="icon"
        [matTooltip]="t('ICON_PNG')"
        (click)="toPng()"
      ></mat-icon>
      <mat-icon
        class="m-2"
        svgIcon="printer"
        aria-label="icon"
        [matTooltip]="t('ICON_PRINT')"
        (click)="createHiddenWindowForPrint()"
      ></mat-icon>
      <mat-icon
        class="m-2"
        svgIcon="folder"
        aria-label="icon"
        [matTooltip]="t('ICON_FOLDER')"
        (click)="createAssignmentsInFolder()"
      ></mat-icon>
      <button
        *ngIf="assignmentsInFolderCreated"
        mat-raised-button
        color="primary"
        class="m-2"
        type="button"
        (click)="openAssignmentsFolder()"
      >
        {{ t("OPEN_ASSIGNMENTS_SHEET_FOLDER") }}
      </button>
    </div>
  </div>
  <div class="m-2">
    {{ t("NUMBER_OF_ASSIGNMENTS") + assignmentsWithNames.length }}
  </div>
  <div id="assignmentDiv" class="col-auto bg-color-white">
    <div class="d-flex flex-wrap align-items-start">
      <!-- this style is for the print option that doesnt support class-->
      <div
        style="
          width: 20rem;
          display: inline-block;
          vertical-align: top;
          margin-left: 4px;
          margin-right: 4px;
          font-family: 'Noto Sans', 'Noto Sans JP', 'Noto Sans KR', 'Noto Sans SC', sans-serif;
        "
        *ngFor="let a of assignmentsWithNames"
      >
        <ng-container *ngIf="a.sheetTitle; else noTitle">
          <h4 class="m-1" style="text-align: center">
            {{ (a.sheetTitle | sheetTitlePipe)?.name || t("ASSIGN_IMAGE_TITLE") }}
          </h4>
        </ng-container>
        <ng-template #noTitle>
          <h4 class="m-1" style="text-align: center">
            <span *ngIf="!assignmentHeaderTitle">{{ t("ASSIGN_IMAGE_TITLE") }}</span>
            <!-- This OR condition is a workaround, old files have a literal string and its not a key -->
            <span *ngIf="assignmentHeaderTitle">{{
              (assignmentHeaderTitle | sheetTitlePipe)?.name || t("ASSIGN_IMAGE_TITLE")
            }}</span>
          </h4>
        </ng-template>
        <hr class="m-1" />
        <div class="m-1">
          <b *ngIf="!assignmentPrincipalTitle">{{ t("ASSIGN_IMAGE_NAME") }}</b>
          <b *ngIf="assignmentPrincipalTitle">{{ assignmentPrincipalTitle }}</b>
        </div>
        <div class="m-1">{{ a.principal }}</div>
        <ng-container *ngIf="a.assistant">
          <div class="m-1">
            <b *ngIf="!assignmentAssistantTitle">{{ t("ASSIGN_IMAGE_ASSISTANT") }}</b>
            <b *ngIf="assignmentAssistantTitle">{{ assignmentAssistantTitle }}</b>
          </div>
          <div class="m-1">{{ a.assistant }}</div>
        </ng-container>
        <div class="m-1">
          <b *ngIf="!assignmentDateTitle">{{ t("ASSIGN_IMAGE_DATE") }}</b>
          <b *ngIf="assignmentDateTitle">{{ assignmentDateTitle }}</b>
        </div>
        <div class="m-1">
          {{ a.date | translocoDate : { dateStyle: "full" } }}
        </div>
        <div class="m-1">
          <b *ngIf="!assignmentAssignTypeTitle">{{ t("ASSIGN_IMAGE_ASSIGNTYPE") }}</b>
          <b *ngIf="assignmentAssignTypeTitle">{{ assignmentAssignTypeTitle }}</b>
        </div>
        <div class="m-1">{{ a.assignType }}</div>
        <ng-container *ngIf="a.theme"
          ><div class="m-1">
            <b *ngIf="!assignmentThemeTitle">{{ t("ASSIGN_IMAGE_THEME") }}</b>
            <b *ngIf="assignmentThemeTitle">{{ assignmentThemeTitle }}</b>
          </div>
          <div class="m-1">
            {{ a.theme }}
          </div></ng-container
        >
        <div class="m-1">
          <b *ngIf="!assignmentRoomTitle">{{ t("ASSIGN_IMAGE_ROOM_PRESENTATION") }}</b>
          <b *ngIf="assignmentRoomTitle">{{ assignmentRoomTitle }}</b>
        </div>
        <div class="m-1">{{ a.room }}</div>
        <ng-container *ngIf="a.footerNote"
          ><div class="m-1">
            <b *ngIf="!assignmentNoteTitle">{{ t("ASSIGN_IMAGE_FOOTER_NOTE") }}</b>
            <b *ngIf="assignmentNoteTitle">{{ assignmentNoteTitle }}</b>
          </div>
          <div class="text-justify footerNote" [innerHTML]="a.footerNote"></div
        ></ng-container>
      </div>
    </div>
  </div>
</div>
